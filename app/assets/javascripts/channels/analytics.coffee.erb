#App.analytics = App.cable.subscriptions.create "AnalyticsChannel",
#  connected: ->
#    loadAnalytics()
#
#  received: (data) ->
#    loadAnalytics();
#
#
#@loadAnalytics = () =>
#  client = new Keen(
#    projectId: '5a58dd74c9e77c0001d6906e'
#    readKey: 'FDBEBA98E86F9F460AB99E319F811004997A031B7F7EE29B5C012027FD34A6C65F79ED25B2CE19B22D7D6067199ABB9D29D600E126F09E7531467AD078A4DFF3C96AED0C1A58087F3BFBD1A606D6CEBCF2E4FC821CDCC54D107ABD605B09E781'
##    readKey: <%= ENV["KEEN_READ_KEY"] %>
# )
#  chart = (new (Keen.Dataviz)).el('#keen-example-chart').height(240).title('All Methods Runtime Average new').type('linechart').prepare()
#  client.query('average',
#    event_collection: 'measured_methods'
#    group_by: ['method_path']
#    interval: 'minutely'
#    target_property: 'runtime'
#    timeframe: 'this_5_minutes'
#    timezone: 'Asia/Istanbul').then((res) ->
#    chart.data(res).render()
#    return
#  ).catch (err) ->
#    chart.message err.message
#    return
